{"version":3,"file":"static/js/9.2b3f56d6.chunk.js","mappings":"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","sources":["webpack://interview/./src/components/Home/styles.module.scss?6037","webpack://interview/./src/components/ModalEditBlog/styles.module.scss?3c44","components/ModalEditBlog/index.tsx","webpack://interview/./src/components/ModalCreateBlog/styles.module.scss?da71","components/ModalCreateBlog/index.tsx","components/Home/mock-data.ts","components/Home/index.tsx","helpers/getBase64.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"blogListContainer\":\"styles_blogListContainer__-khGe\",\"blogListWrap\":\"styles_blogListWrap__ASag-\",\"blogItem\":\"styles_blogItem__Dar-W\",\"actionWrap\":\"styles_actionWrap__WwDDl\",\"delete\":\"styles_delete__+xZ+i\",\"loadingContainer\":\"styles_loadingContainer__DPl+C\",\"filterContainer\":\"styles_filterContainer__iqeGr\"};","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"styles_modal__wdOpL\",\"groupButton\":\"styles_groupButton__a4s07\",\"imageShow\":\"styles_imageShow__V2FrR\",\"uploadWrap\":\"styles_uploadWrap__nt2hM\",\"addImage\":\"styles_addImage__jMlix\"};","import { Button, Form, Modal, message, Input, Upload } from \"antd\";\nimport { useState, useEffect } from \"react\";\n\nimport { getBase64 } from \"src/helpers/getBase64\";\nimport { updateBlog } from \"src/services/apis/blog/blog\";\nimport {\n  ModalEditPropsType,\n  OnFinishType,\n} from \"src/types/modalEditBlog/modalEditBlog.type\";\n\nimport styles from \"./styles.module.scss\";\n\nexport function ModalEditBlog({\n  visible,\n  onCancel,\n  data,\n  reload,\n}: ModalEditPropsType) {\n  const [img, setImg] = useState<string>();\n  const [imgChange, setImgChange] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    if (data) {\n      setImg(data?.image?.url);\n      form.setFieldsValue({\n        title: data?.title,\n        content: data?.content,\n      });\n    }\n  }, [data]);\n\n  const onFinish = async (values: OnFinishType) => {\n    setLoading(true);\n    const dataSubmit = new FormData();\n    dataSubmit.append(\"blog[title]\", values?.title);\n    dataSubmit.append(\"blog[content]\", values?.content);\n    if (imgChange) {\n      dataSubmit.append(\"blog[image]\", values?.img);\n    }\n\n    updateBlog({ id: data?.id, data: dataSubmit })\n      .then(() => {\n        onCancel();\n        setLoading(false);\n        message.success(\"Update Success !\");\n        reload();\n      })\n      .catch(() => {\n        setLoading(false);\n        message.error(\"Update Fail !\");\n      });\n  };\n\n  const handleChangeAvatar = (file: any) => {\n    getBase64(file?.file?.originFileObj, (img: any) => setImg(img));\n    form.setFieldsValue({ img: file?.file?.originFileObj });\n    setImgChange(true);\n  };\n  return (\n    <Modal\n      className={styles.modal}\n      visible={visible}\n      onCancel={onCancel}\n      title=\"EDIT BLOG\"\n    >\n      <Form onFinish={onFinish} form={form}>\n        <Form.Item name=\"img\">\n          <Upload\n            onChange={handleChangeAvatar}\n            showUploadList={false}\n            className={styles.uploadWrap}\n          >\n            {img ? (\n              <img alt=\"avatar\" className={styles.imageShow} src={img}></img>\n            ) : (\n              <p className={styles.addImage}>Add Image</p>\n            )}\n          </Upload>\n        </Form.Item>\n        <Form.Item\n          name=\"title\"\n          rules={[{ required: true, message: \"Please input your title!\" }]}\n        >\n          <div>\n            <p>Title</p>\n            <Input\n              disabled={loading}\n              value={Form.useWatch(\"title\", form)}\n              placeholder=\"Input title\"\n            />\n          </div>\n        </Form.Item>\n        <Form.Item\n          name=\"content\"\n          rules={[{ required: true, message: \"Please input your content!\" }]}\n        >\n          <div>\n            <p>Content</p>\n            <Input\n              disabled={loading}\n              value={Form.useWatch(\"content\", form)}\n              placeholder=\"Input content\"\n            />\n          </div>\n        </Form.Item>\n        <div className={styles.groupButton}>\n          <Button onClick={onCancel}>Cancel</Button>\n          <Button htmlType=\"submit\" loading={loading}>\n            OK\n          </Button>\n        </div>\n      </Form>\n    </Modal>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"styles_modal__znoTo\",\"groupButton\":\"styles_groupButton__sQUFw\",\"imageShow\":\"styles_imageShow__HzqGf\",\"uploadWrap\":\"styles_uploadWrap__hOJA7\",\"addImage\":\"styles_addImage__bWYE+\"};","import { Button, Form, Modal, message, Input, Upload } from \"antd\";\nimport { useState } from \"react\";\n\nimport { getBase64 } from \"src/helpers/getBase64\";\nimport { createBlog } from \"src/services/apis/blog/blog\";\nimport {\n  ModalCreatePropsType,\n  OnFinishType,\n} from \"src/types/modalCreateBlog/modalCreateBlog.type\";\n\nimport styles from \"./styles.module.scss\";\n\nexport function ModalCreateBlog({\n  visible,\n  onCancel,\n  reload,\n}: ModalCreatePropsType) {\n  const [img, setImg] = useState<string>();\n  const [imgChange, setImgChange] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const [form] = Form.useForm();\n\n  const onFinish = async (values: OnFinishType) => {\n    setLoading(true);\n    const dataSubmit = new FormData();\n    dataSubmit.append(\"blog[title]\", values?.title);\n    dataSubmit.append(\"blog[content]\", values?.content);\n    if (imgChange) {\n      dataSubmit.append(\"blog[image]\", values?.img);\n    }\n    createBlog(dataSubmit)\n      .then(() => {\n        onCancel();\n        setLoading(false);\n        message.success(\"Update Success !\");\n        reload();\n      })\n      .catch(() => {\n        setLoading(false);\n        message.error(\"Update Fail !\");\n      });\n  };\n\n  const handleChangeAvatar = (file: any) => {\n    getBase64(file?.file?.originFileObj, (img: any) => setImg(img));\n    form.setFieldsValue({ img: file?.file?.originFileObj });\n    setImgChange(true);\n  };\n\n  return (\n    <Modal\n      className={styles.modal}\n      visible={visible}\n      onCancel={onCancel}\n      title=\"CREATE BLOG\"\n    >\n      <Form onFinish={onFinish} form={form}>\n        <Form.Item name=\"img\">\n          <Upload\n            onChange={handleChangeAvatar}\n            showUploadList={false}\n            className={styles.uploadWrap}\n          >\n            {img ? (\n              <img alt=\"avatar\" className={styles.imageShow} src={img}></img>\n            ) : (\n              <p className={styles.addImage}>Add Image</p>\n            )}\n          </Upload>\n        </Form.Item>\n        <Form.Item\n          name=\"title\"\n          rules={[{ required: true, message: \"Please input your title!\" }]}\n        >\n          <div>\n            <p>Title</p>\n            <Input disabled={loading} placeholder=\"Input title\" />\n          </div>\n        </Form.Item>\n        <Form.Item\n          name=\"content\"\n          rules={[{ required: true, message: \"Please input your content!\" }]}\n        >\n          <div>\n            <p>Content</p>\n            <Input disabled={loading} placeholder=\"Input content\" />\n          </div>\n        </Form.Item>\n        <div className={styles.groupButton}>\n          <Button onClick={onCancel}>Cancel</Button>\n          <Button htmlType=\"submit\" loading={loading}>\n            OK\n          </Button>\n        </div>\n      </Form>\n    </Modal>\n  );\n}\n","export const optionsSortBy = [\n  { label: \"id\", value: \"id\" },\n  { label: \"title\", value: \"title\" },\n  { label: \"content\", value: \"content\" },\n  { label: \"created_at\", value: \"created_at\" },\n  { label: \"updated_at\", value: \"updated_at\" },\n];\n\nexport const optionsSortByDirection = [\n  { label: \"asc\", value: \"asc\" },\n  { label: \"desc\", value: \"desc\" },\n];\n","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getListBlog } from \"src/store/blogSlice\";\nimport styles from \"./styles.module.scss\";\nimport { deleteBlog } from \"src/services/apis/blog/blog\";\nimport { ModalEditBlog } from \"../ModalEditBlog\";\nimport { Pagination, Spin, Input, Select, Form, Button } from \"antd\";\nimport { ModalCreateBlog } from \"../ModalCreateBlog\";\nimport { ListBlogType } from \"src/types/home/home.type\";\nimport { optionsSortBy, optionsSortByDirection } from \"./mock-data\";\n\nexport default function Home() {\n  const dispatch = useDispatch();\n\n  const { loading, listBlog } = useSelector((state: any) => state.blogReducer);\n\n  const [list, setList] = useState<ListBlogType>([]);\n  const [visbile, setVisible] = useState<boolean>(false);\n  const [data, setData] = useState<object>();\n  const [page, setPage] = useState<number>(1);\n  const [visibleCreate, setVisibleCreate] = useState<boolean>(false);\n\n  const [form] = Form.useForm();\n\n  const search = Form.useWatch(\"search\", form);\n  const sort_by = Form.useWatch(\"sort_by\", form);\n  const sort_direction = Form.useWatch(\"sort_direction\", form);\n\n  const reload = () => {\n    const data = {\n      page,\n      search,\n      sort_by,\n      sort_direction,\n    };\n    dispatch(getListBlog(data)).then(() =>\n      window.scrollTo({ top: 0, behavior: \"auto\" })\n    );\n  };\n\n  const reloadFirstPage = () => {\n    const data = {\n      page: 1,\n      search,\n      sort_by,\n      sort_direction,\n    };\n    dispatch(getListBlog(data)).then(() => {\n      setPage(1);\n      window.scrollTo({ top: 0, behavior: \"auto\" });\n    });\n  };\n\n  useEffect(() => {\n    form.setFieldsValue({\n      sort_by: optionsSortBy?.[3]?.value,\n      sort_direction: optionsSortByDirection?.[1]?.value,\n    });\n  }, []);\n\n  useEffect(() => {\n    setList(listBlog?.data?.items || []);\n    setPage(listBlog?.pagination?.page);\n  }, [listBlog]);\n\n  useEffect(() => {\n    reload();\n  }, [page]);\n\n  useEffect(() => {\n    const timeCall = setTimeout(() => {\n      reloadFirstPage();\n    }, 300);\n    return () => clearTimeout(timeCall);\n  }, [search, sort_by, sort_direction]);\n\n  const handleDelete = (value: number) => {\n    deleteBlog(value).then(() => dispatch(getListBlog()));\n  };\n\n  const handleEdit = (value: object) => {\n    setData(value);\n    setVisible(true);\n  };\n\n  const handleCreateBlog = () => {\n    setVisibleCreate(true);\n  };\n\n  return (\n    <div className={styles.blogListContainer}>\n      <Form form={form} className={styles.filterContainer}>\n        <Form.Item name=\"search\">\n          <div>\n            <p>Search</p>\n            <Input />\n          </div>\n        </Form.Item>\n        <div>\n          <p>Sort By</p>\n          <Form.Item name=\"sort_by\">\n            <Select disabled={loading} options={optionsSortBy} />\n          </Form.Item>\n        </div>\n        <div>\n          <p>Sort Direction</p>\n          <Form.Item name=\"sort_direction\">\n            <Select disabled={loading} options={optionsSortByDirection} />\n          </Form.Item>\n        </div>\n      </Form>\n      <Button\n        onClick={handleCreateBlog}\n        className=\"btn btn-primary\"\n        loading={loading}\n      >\n        CREATE BLOG\n      </Button>\n      <ul className={styles.blogListWrap}>\n        {list?.map((x: any) => (\n          <li className={styles.blogItem}>\n            <a href={`/test-nal/${x?.id}`}>\n              {loading ? (\n                <div className={styles.loadingContainer}>\n                  <Spin size=\"large\" />\n                </div>\n              ) : (\n                <img src={x?.image?.url} className=\"mr-3\" alt=\"...\" />\n              )}\n            </a>\n            <div className=\"media-body\">\n              <h5 className=\"mt-0 mb-1\">{x?.title}</h5>\n              {x?.content}\n            </div>\n            <div className={styles.actionWrap}>\n              <div className={styles.delete} onClick={() => handleEdit(x)}>\n                EDIT\n              </div>\n\n              <div\n                className={styles.delete}\n                onClick={() => handleDelete(x?.id)}\n              >\n                REMOVE\n              </div>\n            </div>\n          </li>\n        ))}\n        {visbile && (\n          <ModalEditBlog\n            visible={visbile}\n            onCancel={() => setVisible(false)}\n            data={data}\n            reload={reload}\n          />\n        )}\n      </ul>\n      <Pagination\n        total={listBlog?.pagination?.count}\n        pageSize={20}\n        current={page}\n        onChange={(e) => setPage(e)}\n        showSizeChanger={false}\n      ></Pagination>\n      {visibleCreate && (\n        <ModalCreateBlog\n          visible={visibleCreate}\n          onCancel={() => {\n            setVisibleCreate(false);\n          }}\n          reload={reloadFirstPage}\n        />\n      )}\n    </div>\n  );\n}\n","export function getBase64(img: any, callback: Function) {\n  const reader = new FileReader();\n  reader.addEventListener(\"load\", () => callback(reader.result));\n  reader.readAsDataURL(img);\n}\n"],"names":["ModalEditBlog","visible","onCancel","data","reload","useState","img","setImg","imgChange","setImgChange","loading","setLoading","Form","form","useEffect","image","url","setFieldsValue","title","content","onFinish","values","dataSubmit","FormData","append","updateBlog","id","then","message","catch","className","styles","name","onChange","file","getBase64","originFileObj","showUploadList","alt","src","rules","required","disabled","value","placeholder","onClick","htmlType","ModalCreateBlog","createBlog","optionsSortBy","label","optionsSortByDirection","Home","dispatch","useDispatch","useSelector","state","blogReducer","listBlog","list","setList","visbile","setVisible","setData","page","setPage","visibleCreate","setVisibleCreate","search","sort_by","sort_direction","getListBlog","window","scrollTo","top","behavior","reloadFirstPage","items","pagination","timeCall","setTimeout","clearTimeout","options","map","x","href","size","deleteBlog","total","count","pageSize","current","e","showSizeChanger","callback","reader","FileReader","addEventListener","result","readAsDataURL"],"sourceRoot":""}
"use strict";(self.webpackChunkinterview=self.webpackChunkinterview||[]).push([[505],{2505:function(e,s,n){n.r(s),n.d(s,{default:function(){return b}});var r=n(9439),a=n(2791),t=n(4165),i=n(1413),c=n(5861),l=n(3695),A=n(3188),o=n(7138),u=n(7309),d=n(8678),p="styles_typeWrap__5wOYy",m="styles_loginGoogle__yms0-",v=n(5872),f=n(5698),h=n(9434),x=n(184);function j(e){var s=e.setType,n=e.onCancel,r=(0,h.I0)(),a=(0,v.Nq)({onSuccess:function(e){r((0,f.qW)({token_type:"Bearer",access_token:null===e||void 0===e?void 0:e.access_token})).then((function(){l.ZP.success("Register success !"),n()})).catch((function(){l.ZP.error("Register fail !")}))}});return(0,x.jsxs)("div",{children:[(0,x.jsx)(A.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Invalid email"}],children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"Email"}),(0,x.jsx)(d.Z,{placeholder:"Input email"})]})}),(0,x.jsx)(A.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:8,message:"At least 6 characters"}],children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"Password"}),(0,x.jsx)(d.Z.Password,{placeholder:"Input password"})]})}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("a",{onClick:function(){return s("REGISTER")},children:"REGISTER"}),(0,x.jsx)("a",{onClick:function(){return s("FORGET PASSWORD")},children:"FORGET PASSWORD"})]}),(0,x.jsx)("div",{className:m,children:(0,x.jsx)(u.Z,{onClick:function(){return a()},children:"LOG IN WITH GOOGLE"})})]})}var Z=n(9553),y=n(3272),g="styles_typeWrap__7mAa0",N="styles_avatarShow__aMCLe",w=function(e){var s=e.setType,n=e.form,t=(0,a.useState)(),i=(0,r.Z)(t,2),c=i[0],l=i[1];return(0,x.jsxs)("div",{children:[(0,x.jsx)(A.Z.Item,{name:"img",children:(0,x.jsx)(Z.Z,{onChange:function(e){var s,r;(0,y.y)(null===e||void 0===e||null===(s=e.file)||void 0===s?void 0:s.originFileObj,(function(e){return l(e)})),n.setFieldsValue({img:null===e||void 0===e||null===(r=e.file)||void 0===r?void 0:r.originFileObj})},showUploadList:!1,children:(0,x.jsx)("img",{alt:"avatar",className:N,src:c||"https://media.istockphoto.com/vectors/avatar-5-vector-id1131164548?k=20&m=1131164548&s=612x612&w=0&h=ODVFrdVqpWMNA1_uAHX_WJu2Xj3HLikEnbof6M_lccA="})})}),(0,x.jsx)(A.Z.Item,{name:"name",rules:[{required:!0,message:"Please input your name!"},{max:50,message:"Within 50 characters"}],children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"Name"}),(0,x.jsx)(d.Z,{placeholder:"Input name"})]})}),(0,x.jsx)(A.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Invalid email"}],children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"Email"}),(0,x.jsx)(d.Z,{placeholder:"Input email"})]})}),(0,x.jsx)(A.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:8,message:"At least 6 characters"}],children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"Password"}),(0,x.jsx)(d.Z.Password,{placeholder:"Input password"})]})}),(0,x.jsx)("div",{className:g,children:(0,x.jsx)("a",{onClick:function(){return s("LOG IN")},children:"LOG IN"})})]})},k="styles_typeWrap__3m-Cy";function I(e){var s=e.setType,n=e.typeForget,r=e.setTypeForget;return(0,x.jsxs)("div",{children:[function(){switch(n){case"first":return(0,x.jsx)(A.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Invalid email"}],children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"Email"}),(0,x.jsx)(d.Z,{placeholder:"Input email"})]})});case"second":return(0,x.jsx)(A.Z.Item,{name:"token",rules:[{required:!0,message:"Please input your token!"}],children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"TOKEN"}),(0,x.jsx)(d.Z,{placeholder:"Input token"})]})});default:return(0,x.jsx)(A.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:8,message:"At least 6 characters"}],children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"Password"}),(0,x.jsx)(d.Z.Password,{placeholder:"Input password"})]})})}}(),(0,x.jsxs)("div",{className:k,children:[(0,x.jsx)("a",{onClick:function(){r("first"),s("LOG IN")},children:"LOG IN"}),(0,x.jsx)("a",{onClick:function(){r("first"),s("REGISTER")},children:"REGISTER"})]})]})}var E=n(4034),P=n(7740),R=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.Z)({url:"/api/v2/reset_password",method:"POST",data:s}));case 1:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),T=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.Z)({url:"/api/v2/reset_password",method:"GET",params:s}));case 1:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),O=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.Z)({url:"/api/v2/reset_password",method:"PUT",params:s}));case 1:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),G="styles_modal__ASn5p",S="styles_groupButton__6ZMe9";function C(e){var s=e.visible,n=e.onCancel,d=(0,a.useState)("LOG IN"),p=(0,r.Z)(d,2),m=p[0],v=p[1],Z=(0,a.useState)("first"),y=(0,r.Z)(Z,2),g=y[0],N=y[1],k=(0,a.useState)(!1),P=(0,r.Z)(k,2),C=P[0],F=P[1],b=(0,a.useState)(""),L=(0,r.Z)(b,2),_=L[0],B=L[1],q=(0,h.I0)(),z=(0,h.v9)((function(e){return null===e||void 0===e?void 0:e.authReducer})).loading,M=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(s){var r,a,c,A,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("LOG IN"!==m){e.next=5;break}r=(0,i.Z)((0,i.Z)({},s),{},{remember_me:!0}),q((0,f.y)(r)).then((function(){return n()})),e.next=18;break;case 5:if("REGISTER"!==m){e.next=16;break}return(a=new FormData).append("user[name]",null===s||void 0===s?void 0:s.name),a.append("user[email]",null===s||void 0===s?void 0:s.email),a.append("user[password]","".concat(null===s||void 0===s?void 0:s.password)),a.append("user[avatar]",null===s||void 0===s?void 0:s.img),F(!0),e.next=14,(0,E.z2)(a).then((function(){v("LOG IN"),l.ZP.success("Register success !"),F(!1),Q.setFieldsValue({name:null,email:null,password:null,avatar:null})})).catch((function(){F(!1),l.ZP.error("Register fail !")}));case 14:e.next=18;break;case 16:F(!0),"first"===g?(c={email:null===s||void 0===s?void 0:s.email,reset_password_url:"http://your-domain.com/reset_password"},R(c).then((function(){F(!1),N("second")})).catch((function(){return F(!1)}))):"second"===g?(A={token:null===s||void 0===s?void 0:s.token},T(A).then((function(){B(null===s||void 0===s?void 0:s.token),F(!1),N("last"),l.ZP.success("Veryfi token success !")})).catch((function(){l.ZP.error("Veryfi token fail !"),F(!1)}))):(o={token:_,password:null===s||void 0===s?void 0:s.password},O(o).then((function(){B(""),F(!1),N("first"),v("LOG IN"),l.ZP.success("Reset password success !")})).catch((function(){F(!1),l.ZP.error("Reset password fail !")})));case 18:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),D=A.Z.useForm(),Q=(0,r.Z)(D,1)[0];return(0,x.jsx)(o.Z,{className:G,visible:s,onCancel:n,title:m,children:(0,x.jsxs)(A.Z,{onFinish:M,form:Q,children:[function(){switch(m){case"LOG IN":return(0,x.jsx)(j,{setType:v,onCancel:n});case"REGISTER":return(0,x.jsx)(w,{setType:v,form:Q});default:return(0,x.jsx)(I,{setType:v,typeForget:g,setTypeForget:N})}}(),(0,x.jsxs)("div",{className:S,children:[(0,x.jsx)(u.Z,{onClick:n,children:"Cancel"}),(0,x.jsx)(u.Z,{htmlType:"submit",loading:C||z,children:"OK"})]})]})})}var F="styles_avatarWrap__9AN-V";function b(){var e,s,n=(0,a.useState)(!1),t=(0,r.Z)(n,2),i=t[0],c=t[1],l=(0,h.v9)((function(e){return null===e||void 0===e?void 0:e.authReducer})),A=l.loading,o=l.auth,d=l.user,p=(0,h.I0)();return(0,x.jsxs)("nav",{className:"navbar navbar-expand-lg bg-light",children:[(0,x.jsxs)("div",{className:"container-fluid",children:[(0,x.jsx)("a",{className:"navbar-brand",href:"/test-nal",children:"BLOG-INTERVIEW TEXT"}),(0,x.jsxs)("div",{className:F,children:[o&&(0,x.jsx)("img",{alt:"avatar",src:null!==d&&void 0!==d&&null!==(e=d.avatar)&&void 0!==e&&e.url?null===d||void 0===d||null===(s=d.avatar)||void 0===s?void 0:s.url:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAIMAgwMBIgACEQEDEQH/xAAbAAEAAwEBAQEAAAAAAAAAAAAAAwUGBAIBB//EADMQAAICAgAEBAQFAgcAAAAAAAABAgMEEQUSITETQVFxMmGBsSIzUpHBQvAjJDRicoKh/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP3EAAADzOcYRcpySiu7YHo8znGC3OSivVvRVZfFn1jir/vJfZFZZZO2XNbNyfq2BfWcTxa+nO5P/atkEuM1L4apv30UvQlrxrrluqty9mgLNcar31pn+5LDi+NL4uePuioniZFa3OiaXtshA1FWRTd+VZGXyT6kpkl0e13R243Er6dKb8SHpLv+4GgBBi5dOTHdcuq7xfdE4AAAAAAAPNkowg5SeopbbA8ZF8Met2WPSX7tmfy8yzKnuXSC+GK8hm5Usq3mfSC+GPoc4AmxsW3Kny1rou8n2RCaPhtPg4kF5yXM/qB8xMGvHgtqM5fqcep1JJdkfQAIbcWi1PxKovffoTADP8QwHi/jg91N+fdHEauyuNsHCa3F90Zi+t03zrf9MmgPMJyrmpwk4yXZovOHZ6yEq7NRtS+kvYoT6m4tSi2pJ7TXkBrAcfDsxZVXX8yPSS9fmdgAAACo41k9Vjx95/wi1nJQhKT7RW2Ze2x22ysl3k9geAAAZqcd81FbXnFfYyxo+GS58Gp+i1+zA6gAAAAAznFP9fbr5fZGjMxmS5su5+s2BCAAJsTIljXxsj27SXqjTRkpRUovaa2mZMveDXeJjODfWt6+nkBYAADj4tZyYM9d5aiZ4uuOy1RVH1n/AAUoAAAe6oeLdXXvXNJLZo8ShY1KqUnJJ7TZmoycJxlHvF7RqabFbVCyPaS2B7AAAAAfGUHEcNYrg1Nyc972jQFDxi7xMrkXata+oHAAABYcEs5ctw8px+39srzp4a+XOpfrLQGkAAFVx5PwqX5czKcveNw5sPm/TJMogAAAFnwvP8NQxpx2nLUX6bKw+puMlJd09oDWAjosVtUbI9pLZIAAAHJn5ixIxfI5uW9JMz05Oc3OXeT22dvGLVZlcifSta+vmcIAAADo4f1zaf8Akc52cIhzZ0X+lNgaEAARZVfjY9lfnKPT38jMaa6PujWGf4tj+DlOUV+CzqvfzA4gAAAJsXHnk2qFa95egFnwKcnTZFv8MZLRaEONj140OSpaT6t+pMAPFzcaZyj8Si2vc9nxraafZgZTbk229t9dnwseJ4CoStoj/h6/Eu/L8yuAAAAW/AqtKy5+f4Y/yVUIuc4xityk9JGmxqVRRCpf0rv6sCUAACDNx45NEq30feL9GTgDMRxr5TlCNU3JPT6djqq4TkT+Nxgvm9v/AMLzR9ArauEUR62SnN++kd1NNdMeWqCiu/QkAAAAAAAa33OK3hmLPtDkfrF6O0AU1vB5r8q1P5SWjktwcmr4qZNeseppABUcHw2v8xYvlBP7luAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/2Q=="}),(0,x.jsx)(u.Z,{onClick:function(){o?p((0,f.yB)()):c(!0)},className:"btn btn-primary",loading:A,children:o?"LOG OUT":"LOG IN"})]})]}),i&&(0,x.jsx)(C,{visible:i,onCancel:function(){return c(!1)}})]})}},3272:function(e,s,n){function r(e,s){var n=new FileReader;n.addEventListener("load",(function(){return s(n.result)})),n.readAsDataURL(e)}n.d(s,{y:function(){return r}})}}]);
//# sourceMappingURL=505.dc9bec27.chunk.js.map